import{_ as e}from"./wd-button.Dpaqum9N.js";import{d as l,r as a,q as t,m as o,o as s,c as u,w as d,e as n,x as i,n as r,y as c,i as m,f as p,t as f,L as v,j as _,v as y,S as b,g,aa as w,u as V,F as h,a as x,b as k,h as C}from"./index-BYA5EtG0.js";import{_ as $}from"./demo-block.icKxg5-P.js";import{f as S,i as U,l as A,m as E,z as I,J as j,g as B,K as N,t as M,B as D,a6 as F,h as T,o as G,X as H,r as P,w as Q,b as q,Y as z,c as J,a as K}from"./page-wraper.BLx1nEHM.js";import{u as L}from"./useChildren.CXhGFXP6.js";import{u as O}from"./useTranslate.CrhsM-8W.js";const X=Symbol("wd-collapse"),Y={...S,customMoreSlotClass:U(""),modelValue:{type:[String,Array,Boolean]},accordion:A(!1),viewmore:A(!1),useMoreSlot:A(!1),lineNum:E(2)},R=q(l({name:"wd-collapse-item",options:{addGlobalClass:!0,virtualHost:!0,styleIsolation:"shared"},props:{...S,customBodyClass:U(""),customBodyStyle:U(""),title:U(""),disabled:A(!1),name:I(String),beforeExpend:Function},setup(e,{expose:l}){const y=a(`collapseId${j()}`),b=e,{parent:g,index:w}=B(X),V=a(""),h=a(!1),x=a(!1),{proxy:k}=v(),C=t((()=>0===w.value)),$=t((()=>{const e={};return h.value&&(e.transition="height 0.3s ease-in-out"),x.value?V.value&&(e.height=T(V.value)):e.height="0px",G(e)})),S=t((()=>{const e=g&&(null==g?void 0:g.props.modelValue)||[],{name:l}=b;return H(e)&&e===l||P(e)&&e.indexOf(l)>=0}));async function U(e=!0){try{e&&await new Promise(((e,l)=>{const{name:a}=b;if(!x.value&&b.beforeExpend){const t=b.beforeExpend(a);t||l(),F(t)?t.then((()=>e())).catch(l):e()}else e()})),N(`#${y.value}`,!1,k).then((e=>{const{height:l}=e;V.value=M(l)?Number(l):"",D((()=>{S.value?x.value=!0:x.value=!1,h.value||(h.value=!0)}))}))}catch(l){}}function A(){x.value&&(V.value="")}async function E(){if(!b.disabled)try{await U();const{name:e}=b;g&&g.toggle(e,!x.value)}catch(e){}}return o((()=>{U(S.value)})),l({getExpanded:function(){return x.value},updateExpand:U}),(e,l)=>{const a=_,t=m;return s(),u(t,{class:r(`wd-collapse-item ${e.disabled?"is-disabled":""} is-border ${e.customClass}`),style:c(e.customStyle)},{default:d((()=>[n(t,{class:r(`wd-collapse-item__header ${x.value?"is-expanded":""} ${C.value?"wd-collapse-item__header-first":""} ${e.$slots.title?"is-custom":""}`),onClick:E},{default:d((()=>[i(e.$slots,"title",{expanded:x.value,disabled:e.disabled,isFirst:C.value},(()=>[n(a,{class:"wd-collapse-item__title"},{default:d((()=>[p(f(e.title),1)])),_:1}),n(Q,{name:"arrow-down","custom-class":"wd-collapse-item__arrow "+(x.value?"is-retract":"")},null,8,["custom-class"])]),!0)])),_:3},8,["class"]),n(t,{class:"wd-collapse-item__wrapper",style:c($.value),onTransitionend:A},{default:d((()=>[n(t,{class:r(["wd-collapse-item__body",e.customBodyClass]),style:c(e.customBodyStyle),id:y.value},{default:d((()=>[i(e.$slots,"default",{},void 0,!0)])),_:3},8,["class","style","id"])])),_:3},8,["style"])])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-0f310fe9"]]),W=q(l({name:"wd-collapse",options:{addGlobalClass:!0,virtualHost:!0,styleIsolation:"shared"},props:Y,emits:["change","update:modelValue"],setup(e,{expose:l,emit:t}){const o=e,p=t,{translate:v}=O("collapse"),_=a(0),{linkChildren:x,children:k}=L(X);function C(e){p("update:modelValue",e),p("change",{value:e})}x({props:o,toggle:async function(e,l){const{accordion:a,modelValue:t}=o;a?(C(e===t?"":e),await $()):C(l?t.concat(e):t.filter((l=>l!==e)))}}),y((()=>o.modelValue),(e=>{const{viewmore:l,accordion:a}=o;a&&"string"!=typeof e?console.error("accordion value must be string"):a||l||P(e)||console.error("value must be Array")}),{deep:!0,immediate:!0}),y((()=>o.lineNum),(e=>{e<=0&&console.error("lineNum must greater than 0")}),{deep:!0,immediate:!0}),b((()=>{const{lineNum:e,viewmore:l,modelValue:a}=o;_.value=l&&!a?e:0}));const $=async()=>{for(const l of k)try{await l.$.exposed.updateExpand()}catch(e){console.warn(`更新折叠面板状态失败: ${e}`)}};function S(){p("update:modelValue",!o.modelValue),p("change",{value:!o.modelValue})}return l({toggleAll:async(e={})=>{if(o.accordion)return;z(e)&&(e={expanded:e});const{expanded:l,skipDisabled:a}=e,t=[];k.forEach(((e,o)=>{e.disabled&&a?e.$.exposed.getExpanded()&&t.push(e.name||o):(M(l)?l:!e.$.exposed.getExpanded())&&t.push(e.name||o)})),C(t),await $()}}),(e,l)=>{const a=m;return s(),u(a,{class:r(`wd-collapse ${e.viewmore?"is-viewmore":""} ${e.customClass}`),style:c(e.customStyle)},{default:d((()=>[e.viewmore?(s(),u(a,{key:1},{default:d((()=>[n(a,{class:r(`wd-collapse__content ${e.modelValue?"":"is-retract"} `),style:c(`-webkit-line-clamp: ${_.value}; -webkit-box-orient: vertical`)},{default:d((()=>[i(e.$slots,"default",{},void 0,!0)])),_:3},8,["class","style"]),n(a,{class:"wd-collapse__more",onClick:S},{default:d((()=>[e.useMoreSlot?(s(),u(a,{key:0,class:r(e.customMoreSlotClass)},{default:d((()=>[i(e.$slots,"more",{},void 0,!0)])),_:3},8,["class"])):(s(),g(h,{key:1},[w("span",{class:"wd-collapse__more-txt"},f(e.modelValue?V(v)("retract"):V(v)("expand")),1),n(a,{class:r("wd-collapse__arrow "+(e.modelValue?"is-retract":""))},{default:d((()=>[n(Q,{name:"arrow-down"})])),_:1},8,["class"])],64))])),_:3})])),_:3})):i(e.$slots,"default",{key:0},void 0,!0)])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-eab960ce"]]),Z="如订单处于暂停状态，进入“我的订单”页面，找到要取消的订单，点击“取消订单”按钮；选择订单取消原因后，点击“下一步”提交申请即可。",ee=q(l({__name:"Index",setup(l){const t=J(),o=a([{title:"标签1",name:"item1",body:"如订单处于暂停状态，进入“我的订单”页面，找到要取消的订单，点击“取消订单”按钮；选择订单取消原因后，点击“下一步”提交申请即可。"},{title:"标签2",name:"item2",body:"一般情况下，买家只能向商户申请退款，商户确认可以退款后，可以通过接口或者商户平台向微信支付发起退款申请。",disabled:!0},{title:"标签3",name:"item3",body:"将收到的有质量问题的商品照片或者订单截图上传到微信公众账号（微信关注联华华商公众号），我们的工作人员会尽快帮您处理。"},{title:"标签4",name:"item4",body:"七天无理由退换货制度，所有商品在不影响二次销售的情况下7天内（以快递单签收为准）均接受客户退换货。"},{title:"标签5",name:"item5",body:"Q1:优惠券使用详情？详情页面【我的】-【我的优惠】-【优惠券规则说明】。"}]),i=a(),r=a(["item1"]),c=a("item1"),v=a(["item1"]),y=a(!1),b=a(!1),w=a(!1),V=a(["item1"]),S=a(!0),U=a(["0"]),A=a([["item1"],["item2"],["item3"],["item4"],["item5"]]);function E({value:e}){console.log(e)}function I({value:e}){console.log(e)}function j({value:e}){console.log(e)}function B({value:e}){console.log(e)}function N({value:e}){console.log(e)}function M({value:e}){console.log(e)}function D(e){const l=o.value.findIndex((l=>l.name===e));return l>-1&&(o.value[l].body="Q1:七天无理由退换货制度，所有商品在不影响二次销售的情况下7天内（以快递单签收为准）均接受客户退换货。七天无理由退换货制度，所有商品在不影响二次销售的情况下7天内（以快递单签收为准）均接受客户退换货。七天无理由退换货制度，所有商品在不影响二次销售的情况下7天内（以快递单签收为准）均接受客户退换货。七天无理由退换货制度，所有商品在不影响二次销售的情况下7天内（以快递单签收为准）均接受客户退换货。七天无理由退换货制度，所有商品在不影响二次销售的情况下7天内（以快递单签收为准）均接受客户退换货。七天无理由退换货制度，所有商品在不影响二次销售的情况下7天内（以快递单签收为准）均接受客户退换货。"),new Promise(((e,l)=>{t.loading("加载中"),setTimeout((()=>{t.close(),e(!0)}),500)}))}return(l,a)=>{const t=x(k("wd-button"),e),F=x(k("demo-block"),$),T=x(k("wd-collapse-item"),R),G=x(k("wd-collapse"),W),H=_,P=m,Q=x(k("page-wraper"),K);return s(),u(P,{class:"collapse"},{default:d((()=>[n(Q,null,{default:d((()=>[n(F,{title:"toggleAll"},{default:d((()=>[n(t,{"custom-class":"custom-button",type:"info",onClick:a[0]||(a[0]=e=>{var l;return null==(l=i.value)?void 0:l.toggleAll()})},{default:d((()=>[p("全部切换")])),_:1}),n(t,{"custom-class":"custom-button",type:"success",onClick:a[1]||(a[1]=e=>{var l;return null==(l=i.value)?void 0:l.toggleAll(!0)})},{default:d((()=>[p("全部展开")])),_:1}),n(t,{"custom-class":"custom-button",type:"primary",onClick:a[2]||(a[2]=e=>{var l;return null==(l=i.value)?void 0:l.toggleAll(!1)})},{default:d((()=>[p("全部收起")])),_:1}),n(t,{"custom-class":"custom-button",type:"warning",onClick:a[3]||(a[3]=e=>{var l;return null==(l=i.value)?void 0:l.toggleAll({skipDisabled:!0})})},{default:d((()=>[p("全部切换跳过禁用")])),_:1}),n(t,{"custom-class":"custom-button",type:"error",onClick:a[4]||(a[4]=e=>{var l;return null==(l=i.value)?void 0:l.toggleAll({expanded:!0,skipDisabled:!0})})},{default:d((()=>[p(" 全部选中跳过禁用 ")])),_:1})])),_:1}),n(F,{title:"基础用法",transparent:""},{default:d((()=>[n(G,{ref_key:"collapse",ref:i,modelValue:r.value,"onUpdate:modelValue":a[5]||(a[5]=e=>r.value=e),onChange:E},{default:d((()=>[(s(!0),g(h,null,C(o.value,((e,l)=>(s(),u(T,{disabled:e.disabled,"before-expend":2===l?D:void 0,key:l,title:e.title,name:e.name},{default:d((()=>[p(f(e.body),1)])),_:2},1032,["disabled","before-expend","title","name"])))),128))])),_:1},8,["modelValue"])])),_:1}),n(F,{title:"自定义title",transparent:""},{default:d((()=>[n(G,{modelValue:V.value,"onUpdate:modelValue":a[6]||(a[6]=e=>V.value=e)},{default:d((()=>[n(T,{name:"item1"},{title:d((({expanded:e})=>[n(P,{class:"header"},{default:d((()=>[n(H,{style:{color:"red"}},{default:d((()=>[p("通过 slot 自定义标题")])),_:1}),n(H,null,{default:d((()=>[p(f(e?"我展开了":"我已收起"),1)])),_:2},1024)])),_:2},1024)])),default:d((()=>[p(" "+f(Z))])),_:1}),n(T,{name:"item2",disabled:""},{title:d((({expanded:e,disabled:l})=>[n(P,{class:"header"},{default:d((()=>[l?(s(),u(H,{key:0},{default:d((()=>[p("被禁用")])),_:1})):(s(),u(H,{key:1,style:{color:"red"}},{default:d((()=>[p("通过 slot 自定义 title")])),_:1})),n(H,null,{default:d((()=>[p(f(e?"我展开了":"我已收起"),1)])),_:2},1024)])),_:2},1024)])),default:d((()=>[p(" "+f(Z))])),_:1})])),_:1},8,["modelValue"])])),_:1}),n(F,{title:"手风琴",transparent:""},{default:d((()=>[n(G,{modelValue:c.value,"onUpdate:modelValue":a[7]||(a[7]=e=>c.value=e),accordion:S.value,onChange:I},{default:d((()=>[n(T,{title:"标签1",name:"item1"},{default:d((()=>[p("这是一条简单的示例文字。")])),_:1}),n(T,{title:"标签2",name:"item2"},{default:d((()=>[p(" 这是一条简单的示例文字。这是一条简单的示例文字。这是一条简单的示例文字。这是一条简单的示例文字。这是一条简单的示例文字。这是一条简单的示例文字。这是一条简单的示例文字。这是一条简单的示例文字。 ")])),_:1}),n(T,{title:"标签3",name:"item3"},{default:d((()=>[p("这是一条简单的示例文字。")])),_:1})])),_:1},8,["modelValue","accordion"])])),_:1}),n(F,{title:"禁用",transparent:""},{default:d((()=>[n(G,{modelValue:v.value,"onUpdate:modelValue":a[8]||(a[8]=e=>v.value=e),onChange:j},{default:d((()=>[n(T,{title:"标签1",name:"item1"},{default:d((()=>[p(" 这是一条简单的示例文字。这是一条简单的示例文字。这是一条简单的示例文字。这是一条简单的示例文字。这是一条简单的示例文字。这是一条简单的示例文字。这是一条简单的示例文字。这是一条简单的示例文字。 ")])),_:1}),n(T,{title:"标签2",name:"item2",disabled:""},{default:d((()=>[p("这是一条简单的示例文字。")])),_:1}),n(T,{title:"标签3",name:"item3"},{default:d((()=>[p("这是一条简单的示例文字。")])),_:1})])),_:1},8,["modelValue"])])),_:1}),n(F,{title:"嵌套",transparent:""},{default:d((()=>[n(G,{modelValue:U.value,"onUpdate:modelValue":a[9]||(a[9]=e=>U.value=e),onChange:E},{default:d((()=>[(s(),g(h,null,C(5,(e=>n(T,{"custom-body-style":"padding:0 0 0 14px",key:e,title:`标签${e}`,name:`${e}`},{default:d((()=>[n(G,{modelValue:A.value[e-1],"onUpdate:modelValue":l=>A.value[e-1]=l},{default:d((()=>[(s(!0),g(h,null,C(o.value,((e,l)=>(s(),u(T,{"custom-class":0===l?"no-border":"",key:l,title:e.title,name:e.name},{default:d((()=>[p(f(e.body),1)])),_:2},1032,["custom-class","title","name"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:2},1032,["title","name"]))),64))])),_:1},8,["modelValue"])])),_:1}),n(F,{title:"查看更多",transparent:""},{default:d((()=>[n(G,{viewmore:"",modelValue:y.value,"onUpdate:modelValue":a[10]||(a[10]=e=>y.value=e),onChange:B},{default:d((()=>[p(" 这是一条简单的示例文字。这是一条简单的示例文字。这是一条简单的示例文字。这是一条简单的示例文字。这是一条简单的示例文字。这是一条简单的示例文字。这是一条简单的示例文字。这是一条简单的示例文字。 ")])),_:1},8,["modelValue"])])),_:1}),n(F,{title:"查看更多-行数显示设置",transparent:""},{default:d((()=>[n(G,{viewmore:"",modelValue:b.value,"onUpdate:modelValue":a[11]||(a[11]=e=>b.value=e),onChange:N,"line-num":3},{default:d((()=>[p(" 行数显示设置：这是一条简单的示例文字。这是一条简单的示例文字。这是一条简单的示例文字。这是一条简单的示例文字。这是一条简单的示例文字。这是一条简单的示例文字。这是一条简单的示例文字。这是一条简单的示例文字。 ")])),_:1},8,["modelValue"])])),_:1}),n(F,{title:"查看更多-具名插槽",transparent:""},{default:d((()=>[n(G,{viewmore:"",modelValue:w.value,"onUpdate:modelValue":a[12]||(a[12]=e=>w.value=e),onChange:M,"use-more-slot":"","custom-more-slot-class":"more-slot"},{more:d((()=>[n(P,null,{default:d((()=>[p("显示全部")])),_:1})])),default:d((()=>[p(" 具名插槽：这是一条简单的示例文字。这是一条简单的示例文字。这是一条简单的示例文字。这是一条简单的示例文字。这是一条简单的示例文字。这是一条简单的示例文字。这是一条简单的示例文字。这是一条简单的示例文字。 ")])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-87c1d0a0"]]);export{ee as default};
