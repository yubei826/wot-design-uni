import{d as e,r as t,q as a,o as l,c as s,w as o,e as d,p as r,g as n,F as u,f as c,t as i,n as y,i as m,v as p,x,h as k,y as _,j as f}from"./index-BYA5EtG0.js";import{i as w,y as b,l as h,p as v,w as g,b as K,f as T,m as S,k as I}from"./page-wraper.BLx1nEHM.js";import{u as V}from"./useTouch.jeMyJgz6.js";const C=K(e({name:"wd-key",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"},props:{type:w(""),text:b(""),wider:h(!1),large:h(!1),loading:h(!1)},emits:["press"],setup(e,{emit:p}){const x=e,k=p,_=V(),f=t(!1),w=a((()=>`wd-key ${x.large?"wd-key--large":""} ${"delete"===x.type?"wd-key--delete":""} ${"close"===x.type?"wd-key--close":""}`));function b(e){_.touchStart(e),f.value=!0}function h(e){_.touchMove(e),_.direction.value&&(f.value=!1)}function K(){f.value&&(f.value=!1,k("press",x.text,x.type))}return(e,t)=>{const a=m;return l(),s(a,{class:y("wd-key-wrapper "+(e.wider?"wd-key-wrapper--wider":"")),onTouchstart:b,onTouchmove:h,onTouchend:K},{default:o((()=>[d(a,{class:y(w.value)},{default:o((()=>[x.loading?(l(),s(v,{key:0,"custom-class":"wd-key__loading-icon"})):r("",!0),"delete"===e.type?(l(),n(u,{key:1},[e.text?(l(),n(u,{key:0},[c(i(e.text),1)],64)):(l(),s(g,{key:1,"custom-class":"wd-key__icon",name:"keyboard-delete",size:"22px"}))],64)):"extra"===e.type?(l(),n(u,{key:2},[e.text?(l(),n(u,{key:0},[c(i(e.text),1)],64)):(l(),s(g,{key:1,"custom-class":"wd-key__icon",name:"keyboard-collapse",size:"22px"}))],64)):(l(),n(u,{key:3},[c(i(e.text),1)],64))])),_:1},8,["class"])])),_:1},8,["class"])}}}),[["__scopeId","data-v-82fa53f0"]]),z=K(e({name:"wd-number-keyboard",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"},props:{...T,visible:h(!1),modelValue:w(""),title:String,mode:w("default"),zIndex:S(100),maxlength:S(1/0),showDeleteKey:h(!0),randomKeyOrder:h(!1),closeText:String,deleteText:String,closeButtonLoading:h(!1),modal:h(!1),hideOnClickOutside:h(!0),lockScroll:h(!0),safeAreaInsetBottom:h(!0),extraKey:[String,Array]},emits:["update:visible","input","close","delete","update:modelValue"],setup(e,{emit:w}){const b=e,h=w,v=t(b.visible);p((()=>b.visible),(e=>{v.value=e}));const g=a((()=>"custom"===b.mode?function(){const e=S(),t=Array.isArray(b.extraKey)?b.extraKey:[b.extraKey];1===t.length?e.push({text:0,wider:!0},{text:t[0],type:"extra"}):2===t.length&&e.push({text:t[0],type:"extra"},{text:0},{text:t[1],type:"extra"});return e}():[...S(),{text:b.extraKey,type:"extra"},{text:0},{text:b.showDeleteKey?b.deleteText:"",type:b.showDeleteKey?"delete":""}])),K=a((()=>b.closeText&&"default"===b.mode)),T=a((()=>b.title||K.value));function S(){const e=Array.from({length:9},((e,t)=>({text:t+1})));return b.randomKeyOrder?function(e){const t=[...e];for(let a=t.length-1;a>0;a--){const e=Math.floor(Math.random()*(a+1));[t[a],t[e]]=[t[e],t[a]]}return t}(e):e}const V=()=>{h("close"),h("update:visible",!1)},z=(e,t)=>{if(""===e&&"extra"===t)return V();const a=b.modelValue;"delete"===t?(h("delete"),h("update:modelValue",a.slice(0,a.length-1))):"close"===t?V():a.length<+b.maxlength&&(h("input",e),h("update:modelValue",a+e))};return(e,t)=>{const a=f,p=m;return l(),s(I,{modelValue:v.value,"onUpdate:modelValue":t[0]||(t[0]=e=>v.value=e),position:"bottom","z-index":e.zIndex,"safe-area-inset-bottom":e.safeAreaInsetBottom,"modal-style":e.modal?"":"opacity: 0;",modal:e.hideOnClickOutside,lockScroll:e.lockScroll,onClickModal:V},{default:o((()=>[d(p,{class:y(`wd-number-keyboard ${e.customClass}`),style:_(e.customStyle)},{default:o((()=>[T.value?(l(),s(p,{key:0,class:"wd-number-keyboard__header"},{default:o((()=>[x(e.$slots,"title",{},(()=>[d(a,{class:"wd-number-keyboard__title"},{default:o((()=>[c(i(e.title),1)])),_:1})]),!0),K.value?(l(),s(p,{key:0,class:"wd-number-keyboard__close","hover-class":"wd-number-keyboard__close--hover",onClick:V},{default:o((()=>[d(a,null,{default:o((()=>[c(i(e.closeText),1)])),_:1})])),_:1})):r("",!0)])),_:3})):r("",!0),d(p,{class:"wd-number-keyboard__body"},{default:o((()=>[d(p,{class:"wd-number-keyboard__keys"},{default:o((()=>[(l(!0),n(u,null,k(g.value,(e=>(l(),s(C,{key:e.text,text:e.text,type:e.type,wider:e.wider,onPress:z},null,8,["text","type","wider"])))),128))])),_:1}),"custom"===e.mode?(l(),s(p,{key:0,class:"wd-number-keyboard__sidebar"},{default:o((()=>[e.showDeleteKey?(l(),s(C,{key:0,large:"",text:e.deleteText,type:"delete",onPress:z},null,8,["text"])):r("",!0),d(C,{large:"",text:e.closeText,type:"close",loading:e.closeButtonLoading,onPress:z},null,8,["text","loading"])])),_:1})):r("",!0)])),_:1})])),_:3},8,["class","style"])])),_:3},8,["modelValue","z-index","safe-area-inset-bottom","modal-style","modal","lockScroll"])}}}),[["__scopeId","data-v-e2519f6d"]]);export{z as _};
