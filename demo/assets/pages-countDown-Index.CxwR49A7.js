import{d as s,q as e,v as t,m as a,o,c as l,w as n,x as c,u as i,g as u,f as r,t as m,F as d,n as p,y as f,i as w,r as S,a as _,b as h,e as v,aa as H}from"./index-BYA5EtG0.js";import{a3 as b,f as g,z as k,l as y,i as x,b as j,c as D,d as I,a as C}from"./page-wraper.BLx1nEHM.js";import{u as F}from"./useCountDown.BtkP-9cZ.js";import{_ as $}from"./demo-block.icKxg5-P.js";import{_ as q,a as z}from"./wd-grid.D0vHAD6N.js";import"./useRaf.Cm_VhuH6.js";import"./wd-badge.BQk79k_w.js";import"./useChildren.CXhGFXP6.js";const A=j(s({name:"wd-count-down",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"},props:{...g,time:k(Number),millisecond:y(!1),format:x("HH:mm:ss"),autoStart:y(!0)},emits:["change","finish"],setup(s,{expose:S,emit:_}){const h=s,v=_,{start:H,pause:g,reset:k,current:y}=F({time:h.time,millisecond:h.millisecond,onChange:s=>v("change",s),onFinish:()=>v("finish")}),x=e((()=>function(s,e){const{days:t}=e;let{hours:a,minutes:o,seconds:l,milliseconds:n}=e;if(s.includes("DD")?s=s.replace("DD",b(t)):a+=24*t,s.includes("HH")?s=s.replace("HH",b(a)):o+=60*a,s.includes("mm")?s=s.replace("mm",b(o)):l+=60*o,s.includes("ss")?s=s.replace("ss",b(l)):n+=1e3*l,s.includes("S")){const e=b(n,3);s=s.includes("SSS")?s.replace("SSS",e):s.includes("SS")?s.replace("SS",e.slice(0,2)):s.replace("S",e.charAt(0))}return s}(h.format,y.value))),j=()=>{k(h.time),h.autoStart&&H()};return t((()=>h.time),j,{immediate:!1}),a((()=>{j()})),S({start:H,pause:g,reset:j}),(s,e)=>{const t=w;return o(),l(t,{class:p(`wd-count-down ${s.customClass}`),style:f(s.customStyle)},{default:n((()=>[s.$slots.default?c(s.$slots,"default",{key:0,current:i(y)},void 0,!0):(o(),u(d,{key:1},[r(m(x.value),1)],64))])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-6584e3ac"]]),G=j(s({__name:"Index",setup(s){const{show:e}=D(),t=S(108e6),a=S(),c=()=>{a.value.start()},i=()=>{a.value.pause()},u=()=>{a.value.reset()},r=()=>e("倒计时结束");return(s,e)=>{const d=_(h("wd-count-down"),A),p=_(h("demo-block"),$),f=_(h("wd-grid-item"),q),w=_(h("wd-grid"),z),S=_(h("wd-toast"),I),b=_(h("page-wraper"),C);return o(),l(b,null,{default:n((()=>[v(p,{title:"基本用法"},{default:n((()=>[v(d,{time:t.value},null,8,["time"])])),_:1}),v(p,{title:"自定义格式"},{default:n((()=>[v(d,{time:t.value,format:"DD 天 HH 时 mm 分 ss 秒"},null,8,["time"])])),_:1}),v(p,{title:"毫秒级渲染"},{default:n((()=>[v(d,{time:t.value,millisecond:"",format:"HH:mm:ss:SS"},null,8,["time"])])),_:1}),v(p,{title:"自定义样式"},{default:n((()=>[v(d,{time:t.value},{default:n((({current:s})=>[H("span",{class:"custom-count-down"},m(s.hours),1),H("span",{class:"custom-count-down-colon"},":"),H("span",{class:"custom-count-down"},m(s.minutes),1),H("span",{class:"custom-count-down-colon"},":"),H("span",{class:"custom-count-down"},m(s.seconds),1)])),_:1},8,["time"])])),_:1}),v(p,{title:"手动控制"},{default:n((()=>[v(d,{ref_key:"countDown",ref:a,time:3e3,millisecond:"","auto-start":!1,format:"ss:SSS",onFinish:r},null,512),v(w,{clickable:"",border:""},{default:n((()=>[v(f,{text:"开始",icon:"play-circle-stroke",onItemclick:c}),v(f,{text:"暂停",icon:"pause-circle",onItemclick:i}),v(f,{text:"重置",icon:"refresh",onItemclick:u})])),_:1})])),_:1}),v(S)])),_:1})}}}),[["__scopeId","data-v-06491b94"]]);export{G as default};
