import{d as a,q as e,r as s,o as t,c as l,w as o,f as r,t as d,u as n,p as i,g as u,e as m,F as c,A as f,B as _,n as g,y as p,j as v,i as w,C as x,D as h,a as y,b as j,h as T,l as b}from"./index-BYA5EtG0.js";import{w as C}from"./wd-divider.Cdk7Damx.js";import{f as k,w as S,p as I,t as P,v as E,x as q,b as A,a as B}from"./page-wraper.BLx1nEHM.js";import{u as D}from"./useTranslate.CrhsM-8W.js";const F=A(a({name:"wd-loadmore",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"},props:{...k,state:String,loadingText:String,finishedText:String,errorText:String,loadingProps:Object},emits:["reload"],setup(a,{emit:x}){const h=e((()=>{const a=P(y.loadingProps)?E(y.loadingProps,q):{};return a.customClass=`wd-loadmore__loading ${a.customClass||""}`,a})),y=a,j=x,{translate:T}=D("loadmore"),b=s(null);function k(){"error"===y.state&&(b.value="loading",j("reload"))}return(a,e)=>{const s=v,x=w;return t(),l(x,{class:g(["wd-loadmore",a.customClass]),style:p(a.customStyle),onClick:k},{default:o((()=>["finished"===a.state?(t(),l(C,{key:0},{default:o((()=>[r(d(a.finishedText||n(T)("finished")),1)])),_:1})):i("",!0),"error"===a.state?(t(),u(c,{key:1},[m(s,{class:"wd-loadmore__text"},{default:o((()=>[r(d(a.errorText||n(T)("error")),1)])),_:1}),m(s,{class:"wd-loadmore__text is-light"},{default:o((()=>[r(d(n(T)("retry")),1)])),_:1}),m(S,{name:"refresh","custom-class":"wd-loadmore__refresh"})],64)):i("",!0),"loading"===a.state?(t(),u(c,{key:2},[m(I,f(_(h.value)),null,16),m(s,{class:"wd-loadmore__text"},{default:o((()=>[r(d(a.loadingText||n(T)("loading")),1)])),_:1})],64)):i("",!0)])),_:1},8,["class","style"])}}}),[["__scopeId","data-v-80386a47"]]),G=A(a({__name:"Index",setup(a){const e=s("loading"),n=s(0),i=s(60);function f(){setTimeout((()=>{n.value=n.value+15,e.value="loading"}),200)}return x((()=>{45===n.value?e.value="error":n.value<i.value?f():n.value===i.value&&(e.value="finished")})),h((()=>{f()})),(a,s)=>{const i=b,_=w,g=y(j("wd-loadmore"),F),p=y(j("page-wraper"),B);return t(),l(p,null,{default:o((()=>[m(_,{class:"container"},{default:o((()=>[(t(!0),u(c,null,T(n.value,(a=>(t(),l(_,{key:a,class:"list-item"},{default:o((()=>[m(i,{src:"https://img10.360buyimg.com/jmadvertisement/jfs/t1/70325/36/14954/36690/5dcd3e3bEee5006e0/aed1ccf6d5ffc764.png"}),m(_,{class:"right"},{default:o((()=>[r("这是一条测试"+d(a+1),1)])),_:2},1024)])),_:2},1024)))),128)),m(g,{state:e.value,onReload:f},null,8,["state"])])),_:1})])),_:1})}}}),[["__scopeId","data-v-7db38e08"]]);export{G as default};
